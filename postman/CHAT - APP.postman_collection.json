{
	"info": {
		"_postman_id": "945e1994-b1d8-4e68-9031-7b54c82d612b",
		"name": "CHAT - APP",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "42967806",
		"_collection_link": "https://jwt777-4996.postman.co/workspace/jwt~72069647-ec11-4460-ab13-8c56bc01d2df/collection/42967806-945e1994-b1d8-4e68-9031-7b54c82d612b?action=share&source=collection_link&creator=42967806"
	},
	"item": [
		{
			"name": "API - GATEWAY",
			"item": [
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		},
		{
			"name": "AUTH-SERVICE",
			"item": [
				{
					"name": "register",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"fathima\",\r\n\"email\": \"fathimasithara011@gmail.com\",\r\n  \"password\": \"fathimasithara011\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{auth_api}}auth/register",
							"host": [
								"{{auth_api}}auth"
							],
							"path": [
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "verifyEmail",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"fathimasithara011@gmail.com\",\r\n  \"otp\": \"412361\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{auth_api}}auth/verify-email",
							"host": [
								"{{auth_api}}auth"
							],
							"path": [
								"verify-email"
							]
						}
					},
					"response": []
				},
				{
					"name": "login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"fathimasiithara@gmail.com\",\r\n    \"password\": \"fathimasithara011\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{auth_api}}auth/login",
							"host": [
								"{{auth_api}}auth"
							],
							"path": [
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "request-otp",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"phone\": \"8301955058\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8082/api/v1/auth/request-otp",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"api",
								"v1",
								"auth",
								"request-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "OTP-verify",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"phone\": \"9876543210\",\r\n  \"otp\": \"1234\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/v1/auth/verify-otp",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"auth",
								"verify-otp"
							]
						}
					},
					"response": []
				},
				{
					"name": "refresh",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTBkZGEyN2Y1MTNhN2MxOWVmMzc4Y2YiLCJhdWQiOlsicmVmcmVzaCJdLCJleHAiOjE3NjUxMDc1ODUsIm5iZiI6MTc2MjUxNTU4NSwiaWF0IjoxNzYyNTE1NTg1fQ.GRHls8Oomox50DuPcnZknTa4V0JKFpsfH9yrtgtFfTI\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8082/api/v1/auth/refresh",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"api",
								"v1",
								"auth",
								"refresh"
							]
						}
					},
					"response": []
				},
				{
					"name": "Change password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "",
								"value": "",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"old_password\": \"fathimasithara011\",\r\n    \"new_password\": \"fathimasithara\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8082/api/v1/auth/change-password",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"api",
								"v1",
								"auth",
								"change-password"
							]
						}
					},
					"response": []
				},
				{
					"name": "logout",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTBkZGEyN2Y1MTNhN2MxOWVmMzc4Y2YiLCJhdWQiOlsiYWNjZXNzIl0sImV4cCI6MTc2MjUxNjY0MywibmJmIjoxNzYyNTE1NzQzLCJpYXQiOjE3NjI1MTU3NDN9.EIlwGsMlsiZ4NlhLEcvFaSuZtPrcRjSWwuJ4YZSPH88\" \r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8082/api/v1/auth/logout",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8082",
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "bearer",
				"bearer": [
					{
						"key": "token",
						"value": "",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "USER_SERVICE",
			"item": [
				{
					"name": "getProfile",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"John Doe\",\r\n  \"email\": \"john@example.com\",\r\n  \"password\": \"password123\",\r\n  \"phone\": \"9876543210\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{user-api}}users/me",
							"host": [
								"{{user-api}}users"
							],
							"path": [
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateProfile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"Fathima sithara\",\r\n  \"email\":\"fathimasiithara@gmail.com\",\r\n  \"phone\": \"8301955055\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{user-api}}users/me",
							"host": [
								"{{user-api}}users"
							],
							"path": [
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "getUserByID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{user-api}}users/69242e0cc591f82f9aff2735",
							"host": [
								"{{user-api}}users"
							],
							"path": [
								"69242e0cc591f82f9aff2735"
							]
						}
					},
					"response": []
				},
				{
					"name": "deleteUser",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:882/api/v1/users/690e2001bad456637cc1b9f7",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "882",
							"path": [
								"api",
								"v1",
								"users",
								"690e2001bad456637cc1b9f7"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "CHAT-SERVICE",
			"item": [
				{
					"name": "createChat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"participant_id\": \"USER1\",\r\n  \"name\": \"My DM Chat\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{chat-api}}chats",
							"host": [
								"{{chat-api}}chats"
							]
						}
					},
					"response": []
				},
				{
					"name": "createGroup",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Friends Group\",\r\n    \"members\": [\"user2\", \"user3\"]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{chat-api}}groups",
							"host": [
								"{{chat-api}}groups"
							]
						}
					},
					"response": []
				},
				{
					"name": "listUserChats",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Friends Group\",\r\n    \"members\": [\"user2\", \"user3\"]\r\n}\r\n"
						},
						"url": {
							"raw": "http://localhost:8083/v1/chats",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8083",
							"path": [
								"v1",
								"chats"
							]
						}
					},
					"response": []
				},
				{
					"name": "getChat",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Friends Group\",\r\n    \"members\": [\"user2\", \"user3\"]\r\n}\r\n"
						},
						"url": {
							"raw": "{{chat-api}}chats/ec87966b-2918-4710-b87e-933056e842fa",
							"host": [
								"{{chat-api}}chats"
							],
							"path": [
								"ec87966b-2918-4710-b87e-933056e842fa"
							]
						}
					},
					"response": []
				},
				{
					"name": "addMember",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"user_id\": \"14\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{chat-api}}groups/ec87966b-2918-4710-b87e-933056e842fa/members",
							"host": [
								"{{chat-api}}groups"
							],
							"path": [
								"ec87966b-2918-4710-b87e-933056e842fa",
								"members"
							]
						}
					},
					"response": []
				},
				{
					"name": "removeMember",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8083/v1/groups/05c1f354-4d75-4846-aa22-83dd1aa95686/members/11",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8083",
							"path": [
								"v1",
								"groups",
								"05c1f354-4d75-4846-aa22-83dd1aa95686",
								"members",
								"11"
							]
						}
					},
					"response": []
				},
				{
					"name": "updateChat",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"New Group Name\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8083/v1/chats/05c1f354-4d75-4846-aa22-83dd1aa95686",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8083",
							"path": [
								"v1",
								"chats",
								"05c1f354-4d75-4846-aa22-83dd1aa95686"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "MESSAGE-SERVICE",
			"item": [
				{
					"name": "sendMessage",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"chat_id\": \"chat123\",\r\n    \"content\": \"Hello how are you?\",\r\n    \"msg_type\": \"text\"\r\n}\r\n// {\r\n//     \"chat_id\": \"chat123\",\r\n//     \"msg_type\": \"image\",\r\n//     \"media_url\": \"https://cdn.yourapp.com/file.jpg\"\r\n// }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{chat-api}}messages",
							"host": [
								"{{chat-api}}messages"
							]
						}
					},
					"response": []
				},
				{
					"name": "listMessage",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"participants\": [\"user1_id\", \"user2_id\"]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8083/v1/chats/chat123/messages",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8083",
							"path": [
								"v1",
								"chats",
								"chat123",
								"messages"
							]
						}
					},
					"response": []
				},
				{
					"name": "markRead",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"conversation_id\": \"690efc617be3893f4df19687\",\r\n  \"sender_id\": \"user1_id\",\r\n  \"message\": \"Hello!\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{chat-api}}messages/4655b0f8-9ed5-4382-8725-f77fa7842537/read",
							"host": [
								"{{chat-api}}messages"
							],
							"path": [
								"4655b0f8-9ed5-4382-8725-f77fa7842537",
								"read"
							]
						}
					},
					"response": []
				},
				{
					"name": "editMessage",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"content\": \" assalamualikum\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{msg_api}}messages/036d149d-57ca-438f-b1b0-edeca7ed86ca",
							"host": [
								"{{msg_api}}messages"
							],
							"path": [
								"036d149d-57ca-438f-b1b0-edeca7ed86ca"
							]
						}
					},
					"response": []
				},
				{
					"name": "deleteMessage",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_access_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{chat-api}}messages/4655b0f8-9ed5-4382-8725-f77fa7842537",
							"host": [
								"{{chat-api}}messages"
							],
							"path": [
								"4655b0f8-9ed5-4382-8725-f77fa7842537"
							]
						}
					},
					"response": []
				},
				{
					"name": "mediaUploadURL",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"filename\": \"photo.png\",\r\n  \"content_type\": \"image/png\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{msg_api}}media/upload-url",
							"host": [
								"{{msg_api}}media"
							],
							"path": [
								"upload-url"
							]
						}
					},
					"response": []
				},
				{
					"name": "lastMessage",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{msg_api}}chats/aa321e1d-53e1-433a-9597-b92e9c76ab36/last-message",
							"host": [
								"{{msg_api}}chats"
							],
							"path": [
								"aa321e1d-53e1-433a-9597-b92e9c76ab36",
								"last-message"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "NOTIFICATION-SERVICE",
			"item": [
				{
					"name": "sendNotification",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"user_id\": \"12345\",\r\n  \"title\": \"Welcome\",\r\n  \"message\": \"Hello Sithara!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8087/api/v1/notifications/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8087",
							"path": [
								"api",
								"v1",
								"notifications",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "getUserNotification",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"user_id\": \"12345\",\r\n  \"title\": \"Welcome\",\r\n  \"message\": \"Hello Sithara!\"\r\n}"
						},
						"url": {
							"raw": "http://localhost:8087/api/v1/notifications/12345",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8087",
							"path": [
								"api",
								"v1",
								"notifications",
								"12345"
							]
						}
					},
					"response": []
				},
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8087/health",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8087",
							"path": [
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "auth_access_token",
			"value": ""
		},
		{
			"key": "auth_refresh_token",
			"value": ""
		},
		{
			"key": "auth_api",
			"value": ""
		},
		{
			"key": "user-api",
			"value": ""
		},
		{
			"key": "chat-api",
			"value": ""
		},
		{
			"key": "msg_api",
			"value": ""
		},
		{
			"value": "",
			"disabled": true
		}
	]
}